<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>异步操作-概述</title>
</head>
<body>
<script>
    // 1.单线程模型:
    // JS 只在一个线程上运行, 即 JS 同时只能执行一个任务, 其他任务在后面排队等待.
    // 注意: JS 只在一个线程上运行, 不表示 JS 引擎只有一个线程, 事实是 JS 引擎有多个线程, 单个脚本只在一个线程执行(主线程), 其他线程在后台配合.

    // 2.同步任务和异步任务
    // 程序所有任务分为两类: 同步任务 和 异步任务.
    // 同步任务: 没有被引擎挂起在主线程上排队执行的任务, 只有前一个执行完才能执行后一个.
    // 异步任务: 被引擎放在一边, 不进入主线程, 进入任务队列的任务, 当引擎认为某个异步任务可以执行, 则任务才进入主线程.

    // 3.任务队列和事件循环
    // 任务队列: 当前程序处理的异步任务队列
    // 事件循环: 引擎不停检查, 当同步任务执行完了, 检查引擎挂起的异步任务是否可以进入主线程, 这种循环检查机制即是时间循环.

    // 4.异步操作的模式
    // 4.1 回调函数: 1)优点: 简单容易理解; 2)缺点:高度耦合.
    function f1(callback) {
        // ...
        callback();
    }
    function f2() {
        // ...
    }
    f1(f2);

    // 4.2 事件监听: 1)优点: 简单容易理解,去耦合; 2)缺点:阅读代码不容易看出主流程.
    // f1.on('done', f2); // jQuery

    // 4.3 发布/订阅

    // 5.异步操作的流程控制
    // 5.1 串行执行
    // 5.2 并行执行
    // 5.3 串行与并行结合
</script>
</body>
</html>