<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>包装对象</title>
</head>
<body>
<script>
    var log = console.log.bind(console);

    // 1.数值,字符串,布尔类型3种原始类型的值, 可以转换为保证对象, 分别对应 Number, String, Boolean.
    var v1 = new Number(123);
    var v2 = new String('abc');
    var v3 = new Boolean(true);

    log(typeof v1) // "object"
    log(typeof v2) // "object"
    log(typeof v3) // "object"

    log(v1 === 123) // false
    log(v2 === 'abc') // false
    log(v3 === true) // false

    // Number, String, Boolean作为普通函数调用将返回原始类型值.
    log(Number('123') === 123); // true
    log(String('123') === '123'); // true
    log(Boolean(true) === true); // true

    // 2.实例方法
    // 2.1 valueOf(): 返回包装对象的原始类型的值
    log(Number(123).valueOf() === 123); // true
    log(String('abc').valueOf() === 'abc'); // true
    log(Boolean(true).valueOf() === true); // true

    // 2.2 toString(): 返回对应字符串形式
    log(Number(123).toString() === '123'); // true
    log(String('abc').toString() === 'abc'); // true
    log(Boolean(true).toString() === 'true'); // true

    // 3.原始类型与实例对象的自动转换
    var str1 = 'abc';
    log(str1.length); // 3
    var str2 = new String('abc');
    log(str2.length); // 3

    // 4.自定义方法
    String.prototype.double = function () {
        return this.valueOf() + this.valueOf();
    };

    log('abc'.double()); // abcabc

    Number.prototype.double = function () {
        return this.valueOf() + this.valueOf();
    };

    log((123).double()); // 246
</script>
</body>
</html>